<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The protocol for vhost-user is based on the existing implementation of vhost for the Linux Kernel. The protocol defines two sides of the communication, master and slave. Master is the application that shares its virtqueues. Slave is the consumer of the virtqueues."><meta name="keywords" content="rust, rustlang, rust-lang, vhost_user"><title>vmm_vhost::vhost_user - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../../favicon.svg"><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../../vmm_vhost/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><h2 class="location">Module vhost_user</h2><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></div><div id="sidebar-vars" data-name="vhost_user" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input"name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">vmm_vhost</a>::<wbr><a class="mod" href="#">vhost_user</a><button id="copy-path" onclick="copy_path(this)" title="copy path"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item import" title="Copy item import to clipboard"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../../src/vmm_vhost/vhost_user/mod.rs.html#4-468" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The protocol for vhost-user is based on the existing implementation of vhost for the Linux
Kernel. The protocol defines two sides of the communication, master and slave. Master is
the application that shares its virtqueues. Slave is the consumer of the virtqueues.</p>
<p>The communication channel between the master and the slave includes two sub channels. One is
used to send requests from the master to the slave and optional replies from the slave to the
master. This sub channel is created on master startup by connecting to the slave service
endpoint. The other is used to send requests from the slave to the master and optional replies
from the master to the slave. This sub channel is created by the master issuing a
VHOST_USER_SET_SLAVE_REQ_FD request to the slave with an auxiliary file descriptor.</p>
<p>Unix domain socket is used as the underlying communication channel because the master needs to
send file descriptors to the slave.</p>
<p>Most messages that can be sent via the Unix domain socket implementing vhost-user have an
equivalent ioctl to the kernel implementation.</p>
</div></details><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="mod" href="message/index.html" title="vmm_vhost::vhost_user::message mod">message</a></div><div class="item-right docblock-short"><p>Define communication messages for the vhost-user protocol.</p>
</div></div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="struct" href="struct.Master.html" title="vmm_vhost::vhost_user::Master struct">Master</a></div><div class="item-right docblock-short"><p>Struct for the vhost-user master endpoint.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.MasterReqHandler.html" title="vmm_vhost::vhost_user::MasterReqHandler struct">MasterReqHandler</a></div><div class="item-right docblock-short"><p>Server to handle service requests from slaves from the slave communication channel.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.SlaveFsCacheReq.html" title="vmm_vhost::vhost_user::SlaveFsCacheReq struct">SlaveFsCacheReq</a></div><div class="item-right docblock-short"><p>Request proxy to send vhost-user-fs slave requests to the master through the slave
communication channel.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.SlaveListener.html" title="vmm_vhost::vhost_user::SlaveListener struct">SlaveListener</a></div><div class="item-right docblock-short"><p>Vhost-user slave side connection listener.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.SlaveReqHandler.html" title="vmm_vhost::vhost_user::SlaveReqHandler struct">SlaveReqHandler</a></div><div class="item-right docblock-short"><p>Server to handle service requests from masters from the master communication channel.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.SocketListener.html" title="vmm_vhost::vhost_user::SocketListener struct">SocketListener</a></div><div class="item-right docblock-short"><p>Unix domain socket listener for accepting incoming connections.</p>
</div></div><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="enum" href="enum.Error.html" title="vmm_vhost::vhost_user::Error enum">Error</a></div><div class="item-right docblock-short"><p>Errors for vhost-user operations</p>
</div></div><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="trait" href="trait.VhostUserMaster.html" title="vmm_vhost::vhost_user::VhostUserMaster trait">VhostUserMaster</a></div><div class="item-right docblock-short"><p>Trait for vhost-user master to provide extra methods not covered by the VhostBackend yet.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.VhostUserMasterReqHandler.html" title="vmm_vhost::vhost_user::VhostUserMasterReqHandler trait">VhostUserMasterReqHandler</a></div><div class="item-right docblock-short"><p>Define services provided by masters for the slave communication channel.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.VhostUserMasterReqHandlerMut.html" title="vmm_vhost::vhost_user::VhostUserMasterReqHandlerMut trait">VhostUserMasterReqHandlerMut</a></div><div class="item-right docblock-short"><p>A helper trait mirroring <a href="trait.VhostUserMasterReqHandler.html">VhostUserMasterReqHandler</a> but without interior mutability.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.VhostUserSlaveReqHandler.html" title="vmm_vhost::vhost_user::VhostUserSlaveReqHandler trait">VhostUserSlaveReqHandler</a></div><div class="item-right docblock-short"><p>Services provided to the master by the slave with interior mutability.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.VhostUserSlaveReqHandlerMut.html" title="vmm_vhost::vhost_user::VhostUserSlaveReqHandlerMut trait">VhostUserSlaveReqHandlerMut</a></div><div class="item-right docblock-short"><p>Services provided to the master by the slave without interior mutability.</p>
</div></div><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="type" href="type.HandlerResult.html" title="vmm_vhost::vhost_user::HandlerResult type">HandlerResult</a></div><div class="item-right docblock-short"><p>Result of request handler.</p>
</div><div class="item-left module-item"><a class="type" href="type.Result.html" title="vmm_vhost::vhost_user::Result type">Result</a></div><div class="item-right docblock-short"><p>Result of vhost-user operations</p>
</div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../../" data-current-crate="vmm_vhost" data-search-index-js="../../search-index.js" data-search-js="../../search.js"></div>
    <script src="../../main.js"></script>
</body></html>